plot(east$latitude, east$pm25, main = "East")
library(dplyr)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
install.packages("dplyr")
install.packages("dplyr")
library(dplyr)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
summarize(sum(Emissions))
NEI %>% group_by(year)
NEI %>% group_by(year) %>% summarize(sum(Emissions))
NEI %>% group_by(year) %>% total=summarize(sum(Emissions))
NEI %>% group_by(year) %>% "total"=summarize(sum(Emissions))
NEI.Emissions.Year <- NEI %>% group_by(year) %>% summarize(SumEmissions=sum(Emissions))
NEI %>% group_by(year) %>% summarize(SumEmissions=sum(Emissions))
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
## Summarize the Emissions data by year
NEI.Emissions.Year <- NEI %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
#png(filename="./plot1.png",width=480,height=480,units="px")
#Plot the data
with(NEI.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total Emissions'))
with(NEI.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(NEI.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources by Year')
# Create the png file
png(filename="./plot1.png",width=480,height=480,units="px")
#Plot the data
with(NEI.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total Emissions'))
with(NEI.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(NEI.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources by Year')
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
## Summarize the Emissions data by year
BC <- subset(NEI,fips == "24510")
BC.Emissions.Year <- BC %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
#png(filename="./plot1.png",width=480,height=480,units="px")
#Plot the data
with(BC.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total Emissions'))
with(BC.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(BC.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources in Baltimore City, Maryland by Year')
library(dplyr)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
fileURL <- 'https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip'
download.file(fileURL, destfile = './NEI.zip')
unzip('NEI.zip')
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
## Summarize the Emissions data by year
BC <- subset(NEI,fips == "24510")
BC.Emissions.Year <- BC %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot2.png",width=480,height=480,units="px")
#Plot the data
with(BC.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total Emissions'))
with(BC.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(BC.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources in Baltimore City, Maryland by Year')
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
## Summarize the Emissions data by year
BC <- subset(NEI,fips == "24510")
BC.Emissions.Year <- BC %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot2.png",width=480,height=480,units="px")
#Plot the data
with(BC.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total Emissions'))
with(BC.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(BC.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources in Baltimore City by Year')
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
#Plot the data
with(BC.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total Emissions'))
with(BC.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(BC.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources \nin Baltimore City by Year')
BC <- subset(NEI,fips == "24510")
BC.Emissions.Year <- BC %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot2.png",width=480,height=480,units="px")
#Plot the data
with(BC.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total Emissions'))
with(BC.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(BC.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources \nin Baltimore City by Year')
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
# Create the png file
png(filename="./plot2.png",width=480,height=480,units="px")
#Plot the data
with(BC.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total Emissions'))
with(BC.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(BC.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources \nin Baltimore City by Year')
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
bb <- dev.off()
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
## Summarize the Emissions data by year
BC <- subset(NEI,fips == "24510")
BC.Emissions.Year <- BC %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot2.png",width=480,height=480,units="px")
#Plot the data
with(BC.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total Emissions'))
with(BC.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(BC.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources \nin Baltimore City by Year')
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
## Summarize the Emissions data by year
BC <- subset(NEI,fips == "24510")
BC.Emissions.Year <- BC %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot2.png",width=480,height=480,units="px")
#Plot the data
with(BC.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total Emissions'))
with(BC.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(BC.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources \nin Baltimore City, Maryland by Year')
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
SCC <- readRDS("Source_Classification_Code.rds")
library(dplyr)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
SCC <- readRDS("Source_Classification_Code.rds")
library(dplyr)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
unzip('NEI.zip')
SCC <- readRDS("Source_Classification_Code.rds")
names(SCC)
summary(SCC)
SCC.Type <-subset(SCC,Data.Category=="point" & Data.Category=="nonpoint")
summary(SCC.Type)
SCC.Type <-subset(SCC,Data.Category=="point")
summary(SCC.Type)
SCC.Type <-subset(SCC,Data.Category=="point")
summary(SCC.Type)
head(SCC.Type,2)
head(SCC,2)
names(SCC)
SCC.Type <-subset(SCC,Data.Category=="Point")
head(SCC,2)
summary(SCC.Type)
SCC.Type <-subset(SCC,Data.Category=="Point" & Data.Category=="Nonpoint" & Data.Category=="Onroad" & Data.Category=="Nonroad")
head(SCC,2)
summary(SCC.Type)
SCC.Type <-subset(SCC,SCC[[2]] %in% c("Point","Nonpoint","Onroad","Nonroad"))
summary(SCC.Type)
SCC.Type <-subset(SCC,SCC$Data.Category %in% c("Point","Nonpoint","Onroad","Nonroad"))
head(SCC,2)
summary(SCC.Type)
head(SCC,2)
head(NEI)
SCC.Type$SCC
SCC <- readRDS("Source_Classification_Code.rds")
BC <- subset(NEI,fips == "24510")
SCC.Type <-subset(SCC,SCC$Data.Category %in% c("Point","Nonpoint","Onroad","Nonroad"))
nrow(SCC.Type)
nrow(SCC)
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
BC <- subset(NEI,fips == "24510")
SCC.Type <-subset(SCC,SCC$Data.Category %in% c("Point","Nonpoint","Onroad","Nonroad"))
nrow(SCC.Type)
nrow(SCC)
nrow(NEI)
nrow(BC)
SCC.Type <-subset(SCC,SCC$Data.Category ="Point")
nrow(SCC.Type)
nrow(SCC)
names(SCC)
summary(SCC)
SCC.Type <-subset(SCC,SCC$Data.Category =="Point")
nrow(SCC.Type)
SCC.Type <-subset(SCC,SCC[[2]]=="Point")
nrow(SCC.Type)
head(NEI)
summary(NEI)
library(ggplot2)
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
BC <- subset(NEI,fips == "24510")
BC.Emissions.Year <- BC %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
qplot(year,TotalEmissions,data=BC.Emissions.Year,color=type)
BC.Emissions.Year <- BC %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
BC.Emissions.Year
BC.Emissions.Year <- BC %>% group_by(year,type) %>% summarize(TotalEmissions=sum(Emissions))
BC.Emissions.Year
#Plot the data
qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line()
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line()
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line()
p + xlab("Year")
p + geom_line()
p + xlab("Year")
#Plot the data
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line() + xlab("Year") + ylab("Total Emissions")
+ ggtitle("Total Emissions in Baltimore City by Year and Type")
#Plot the data
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line() + xlab("Year") + ylab("Total Emissions") +
ggtitle("Total Emissions in Baltimore City by Year and Type")
#Plot the data
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line() + xlab("Year") + ylab("Total Emissions") +
ggtitle("Total Emissions in Baltimore City by Year and Type") +
scale_size_area("Type")
#Plot the data
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line() + xlab("Year") + ylab("Total Emissions") +
ggtitle("Total Emissions in Baltimore City by Year and Type") +
scale_size_area("Type")
#Plot the data
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line() + xlab("Year") + ylab("Total Emissions") +
ggtitle("Total Emissions in Baltimore City by Year and Type") +
scale_fill_discrete(name="Type")
#Plot the data
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line() + xlab("Year") + ylab("Total Emissions") +
ggtitle("Total Emissions in Baltimore City by Year and Type") +
scale_fill_discrete(name="Type")
#Plot the data
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line() + xlab("Year") + ylab("Total Emissions") +
ggtitle("Total Emissions in Baltimore City by Year and Type") +
scale_fill_discrete(name="Type")
#Plot the data
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line() + xlab("Year") + ylab("Total Emissions") +
ggtitle("Total Emissions in Baltimore City by Year and Type") +
scale_fill_discrete(name="Type")
#Plot the data
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line() + xlab("Year") + ylab("Total Emissions") +
ggtitle("Total Emissions in Baltimore City by Year and Type") +
scale_color_discrete(name="Type")
library(dplyr)
library(ggplot2)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
fileURL <- 'https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip'
download.file(fileURL, destfile = './NEI.zip')
unzip('NEI.zip')
## Read in the data. This will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
## Subset data for Balitmore City & Summarize the Emissions data by year & type
BC <- subset(NEI,fips == "24510")
BC.Emissions.Year <- BC %>% group_by(year,type) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot3.png",width=480,height=480,units="px")
#Plot the data
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line() + xlab("Year") + ylab("Total Emissions") +
ggtitle("Total Emissions in Baltimore City by Year and Type") +
scale_color_discrete(name="Type")
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
library(dplyr)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
fileURL <- 'https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip'
download.file(fileURL, destfile = './NEI.zip')
unzip('NEI.zip')
## Read in the data. This will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
## Summarize the Emissions data by year
NEI.Emissions.Year <- NEI %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot1.png",width=480,height=480,units="px")
#Plot the data
with(NEI.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total Emissions'))
with(NEI.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(NEI.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources by Year')
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
library(dplyr)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
fileURL <- 'https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip'
download.file(fileURL, destfile = './NEI.zip')
unzip('NEI.zip')
## Read in the data. This will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
## Subset data for Balitmore City & Summarize the Emissions data by year
BC <- subset(NEI,fips == "24510")
BC.Emissions.Year <- BC %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot2.png",width=480,height=480,units="px")
#Plot the data
with(BC.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total Emissions'))
with(BC.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(BC.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources \nin Baltimore City, Maryland by Year')
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
library(dplyr)
library(ggplot2)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
fileURL <- 'https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip'
download.file(fileURL, destfile = './NEI.zip')
unzip('NEI.zip')
## Read in the data. This will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
## Subset data for Balitmore City & Summarize the Emissions data by year & type
BC <- subset(NEI,fips == "24510")
BC.Emissions.Year <- BC %>% group_by(year,type) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot3.png",width=480,height=480,units="px")
#Plot the data
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line() + xlab("Year") + ylab("Total Emissions") +
ggtitle("Total Emissions in Baltimore City by Year and Type") +
scale_color_discrete(name="Type")
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
library(dplyr)
library(ggplot2)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
fileURL <- 'https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip'
download.file(fileURL, destfile = './NEI.zip')
unzip('NEI.zip')
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
head(NEI)
SCC <- readRDS(("Source_Classification_Code.rds"))
head(SCC)
library(dplyr)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
fileURL <- 'https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip'
download.file(fileURL, destfile = './NEI.zip')
unzip('NEI.zip')
## Read in the data. This will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
## Subset data for Balitmore City & Summarize the Emissions data by year
BC <- subset(NEI,fips == "24510")
BC.Emissions.Year <- BC %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot2.png",width=480,height=480,units="px")
#Plot the data
with(BC.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total PM2.5 Emitted (tons)'))
with(BC.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(BC.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources \nin Baltimore City, Maryland by Year')
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
library(dplyr)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
fileURL <- 'https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip'
download.file(fileURL, destfile = './NEI.zip')
unzip('NEI.zip')
## Read in the data. This will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
## Summarize the Emissions data by year
NEI.Emissions.Year <- NEI %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot1.png",width=480,height=480,units="px")
#Plot the data
with(NEI.Emissions.Year,plot(year,TotalEmissions,xlab='Year',ylab='Total PM2.5 Emitted (tons)'))
with(NEI.Emissions.Year, points(year, TotalEmissions, pch = 19))
with(NEI.Emissions.Year, lines(year, TotalEmissions, type='l'))
title(main='Total PM2.5 Emissions From All Sources by Year')
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
library(dplyr)
library(ggplot2)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
fileURL <- 'https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip'
download.file(fileURL, destfile = './NEI.zip')
unzip('NEI.zip')
## Read in the data. This will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
## Subset data for Balitmore City & Summarize the Emissions data by year & type
BC <- subset(NEI,fips == "24510")
BC.Emissions.Year <- BC %>% group_by(year,type) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot3.png",width=480,height=480,units="px")
#Plot the data
p <- qplot(year,TotalEmissions,data=BC.Emissions.Year,color=BC.Emissions.Year$type)
p + geom_line() + xlab("Year") + ylab("Total PM2.5 Emitted (tons)") +
ggtitle("Total Emissions in Baltimore City by Year and Type") +
scale_color_discrete(name="Type")
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
#install.packages("dplyr")
library(dplyr)
library(ggplot2)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
fileURL <- 'https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip'
download.file(fileURL, destfile = './NEI.zip')
unzip('NEI.zip')
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS(("Source_Classification_Code.rds"))
head(SCC)
names(SCC)
head(SCC$EI.Sector)
SCC[grep("Coal",SCC$EI.Sector),]
SCC[grep("Coal",SCC$EI.Sector),1:2]
SCC[grep("Coal",SCC$EI.Sector),1:2]
SCC.Coal <- SCC[grep("Coal",SCC$EI.Sector),1:2]
nrow(SCC.Coal)
SCC.Coal <- SCC[grepl("Coal",EI.Sector,ignore.case = TRUE),]
nrow(SCC.Coal)
SCC.Coal <- SCC[grepl("Coal",SCC$EI.Sector,ignore.case = TRUE),]
nrow(SCC.Coal)
Merge(NEI, SCC.Coal, by=SCC)
merge(NEI, SCC.Coal, by=SCC)
NEI.Coal <- merge(NEI, SCC.Coal, by = 'SCC')
nrow(NEI.Coal)
## Merge the dataset to get only emissions related to coal combustion. Then summarize by year
NEI.Coal <- merge(NEI, SCC.Coal, by = 'SCC')
NEI.Coal.Year <- NEI.Coal %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
p <- qplot(year,TotalEmissions,data=NEI.Coal.Year)
p + geom_line() + xlab("Year") + ylab("Total PM2.5 Emitted (tons)") +
ggtitle("Total Emissions in Baltimore City by Year and Type")
p <- qplot(year,TotalEmissions,data=NEI.Coal.Year)
p + geom_line() + xlab("Year") + ylab("Total PM2.5 Emitted (tons)") +
ggtitle("Total Emissions Related to Coal Combustion By Year")
library(dplyr)
library(ggplot2)
# set directory to folder where files are locationed (summarySCC_PM25.rds and Source_Classification_Code.rds)
nei.directory <- "C:/github/ExData_Plotting_NEI"
setwd(nei.directory)
fileURL <- 'https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip'
download.file(fileURL, destfile = './NEI.zip')
unzip('NEI.zip')
## Read in the data. The first file will likely take a few seconds. Be patient!
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS(("Source_Classification_Code.rds"))
## Get Coal Combustion related SCC values
SCC.Coal <- SCC[grepl("Coal", SCC$EI.Sector, ignore.case = TRUE),]
## Merge the dataset to get only emissions related to coal combustion. Then summarize by year
NEI.Coal <- merge(NEI, SCC.Coal, by = 'SCC')
NEI.Coal.Year <- NEI.Coal %>% group_by(year) %>% summarize(TotalEmissions=sum(Emissions))
# Create the png file
png(filename="./plot4.png",width=480,height=480,units="px")
#Plot the data
p <- qplot(year,TotalEmissions,data=NEI.Coal.Year)
p + geom_line() + xlab("Year") + ylab("Total PM2.5 Emitted (tons)") +
ggtitle("Total Emissions Related to Coal Combustion By Year")
## clean up the memory and close off the graphic device
bb <- rm(list=ls())
bb <- dev.off()
